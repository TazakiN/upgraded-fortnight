\section{Analisis Masalah}
\label{sec:analisis-masalah}

\subsection{Analisis Sistem DecMed dan Regulasi}
\label{subsec:analisis-sistem-decmed-dan-regulasi}
Sistem DecMed dibangun di atas arsitektur DLT IOTA dan IPFS menggunakan enkripsi memanfaatkan proxy re-encryption (PRE). Dalam sistem ini, hak akses dikelola melalui token kapabilitas statis pada \textit{smart contract}. Mekanisme ini memiliki keterbatasan dimana pasien harus aktif untuk memberikan akses baru untuk setiap tenaga medis yang terlibat. Selain itu, pendelegasian hak akses bersifat biner (mengizinkan akses semua data atau tidak sama sekali), yang tidak sesuai UU PDP yang menekankan perlindungan data spesifik.

\subsection{Identifikasi Masalah}
\label{subsec:identifikasi-masalah}
Berdasarkan evaluasi terhadap DecMed dan regulasi Permenkes No. 24 Tahun 2022, teridentifikasi tiga masalah utama:

% TODO
% munculin data dulu, baru analisis, terus rancang solusi
% contohnya kesimpulan fitur untuk pisahin data yang bisa diakses di on chain dan off chain

\begin{enumerate}[leftmargin=*]
	\item Model CapBAC pada DecMed bersifat biner (izin/tolak) dan statis. Sistem tidak mendukung \textit{attenuation} (pengurangan hak akses saat delegasi).
	      % TODO 
	      % cari data di indonesia yang begini, misal dokter tuh harusnya cuman bisa akses begini. sehingga perlu attenuation.
	      % \item Sistem menerapkan prinsip \textit{deny-by-default} yang bergantung pada kunci privat pasien untuk re-enkripsi, sehingga dalam kondisi pasien tidak sadar (koma/trauma/gawat darurat), data medis terkunci total, yang berpotensi membahayakan nyawa pasien.
	\item Pada keadaan darurat, data rekam medis pasien terkunci total, yang berpotensi membahayakan nyawa pasien.
	\item Belum tersedianya mekanisme audit khusus untuk akses darurat.
\end{enumerate}

\subsection{Analisis Kebutuhan Sistem}
\label{subsec:analisis-kebutuhan-sistem}
Untuk mengatasi masalah pada subbab \ref{subsec:identifikasi-masalah}, sistem memerlukan peningkatan fungsional yang dirangkum dalam Tabel \ref{tab:kebutuhan-fungsional-tambahan}.

\begin{table}[!ht]
	\centering
	\caption{Kebutuhan Fungsional Tambahan}
	\label{tab:kebutuhan-fungsional-tambahan}
	\small
	\begin{tabular}{|p{0.25\textwidth}|p{0.65\textwidth}|}
		\hline
		\textbf{Fungsionalitas}       & \textbf{Deskripsi Kebutuhan}                                                                                        \\ \hline
		Delegasi Offline              & Pasien menerbitkan token akses yang dapat didelegasikan secara berantai oleh tenaga kesehatan tanpa koneksi pasien. \\ \hline
		Atenuasi Akses                & Kemampuan membatasi ruang lingkup (waktu, jenis data) pada token delegasi.                                          \\ \hline
		Protokol \textit{Break-Glass} & Mekanisme akses data tanpa kunci privat pasien yang hanya aktif saat status darurat dideklarasikan.                 \\ \hline
		Audit \textit{Immutable}      & Pencatatan insiden darurat pada \textit{ledger} IOTA yang tidak dapat dihapus untuk audit forensik.                 \\ \hline
	\end{tabular}
\end{table}